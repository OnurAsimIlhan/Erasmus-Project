<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Homepage</title>
</head>

<body>
    {% extends 'main_page.html' %}
    <h1 align="center">Pending Proposals</h1>

    {% block nav_content %}
    <!--Link Logout Service Here -->
    <li class="nav-item">
        <form action="" method="POST">
            <button type="logout" class="logoutButton" style="padding-top:5px" name="logout" value="">
                Logout
            </button>
        </form>
    </li>
  
    {% endblock %}

    {% block content %}

    <div class="row d-block justify-content-around" style="margin:10px;">
        <div class="col-7 float-left"
            style="margin:10px; background:linear-gradient(144.39deg, #FFFFFF -278.56%, #6D6D6D -78.47%, #0D0C15 91.61%); color:white;">
            <div style="padding:10px">
                <h1 style="background: radial-gradient(64.18% 64.18% at 71.16% 35.69%, #E9DEFA 0.89%, #BEF3F5 17.23%, #9DEDF0 42.04%, #7DE7EB 55.12%, #5CE1E6 71.54%, #33BBCF 100%) /* warning: gradient uses a rotation that is not supported by CSS and may not behave as expected */;
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;
               
                ">Last Proposals</h1>
                <table class="table table-light table-striped table-bordered">
                    <thead>
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Student ID</th>
                            <th scope="col">Bilkent Course</th>
                            <th scope="col">Syllabus</th>
                            <th scope="col">Course Website</th>
                            <th scope="col">Approve</th>
                            <th scope="col">Reject</th>
                            <th scope="col">Message</th>
                        </tr>
                    </thead>
                    <tbody>

                        <!--For Loop -->
                        {% set i = namespace(value=1) %}
                        {% for course in user.courses %}
                        {% if course.approval_status != "Approved" %}
                        {% if course.approval_status != "Rejected" %}
                        <tr>
                            <th scope="row">{{i.value}}</th>

                            <td>{{course.proposing_student}}</td> 

                            <td>{{course.equivalent_bilkent_course}}</td>

                            <td><form action="" method="POST">
                                <button type="submit" class="open" name="Download" value="{{ course.course_id }}">
                                    Download Syllabus
                                </button>
                            </form></td>
                            <td><a href="{{course.web_page}}" target="_blank" rel="noreferrer noopener">Course Website</a></td>
                            <td><form action="" method="POST">
                                <button type="submit" class="open" name="Approve" value="{{ course.course_id }}">
                                    Approve
                                </button>
                            </form></td>
                            <td><form action="" method="POST">
                                <button type="submit" class="open" name="Reject" value="{{ course.course_id }}">
                                    Reject
                                </button>
                            </form></td>
                            <td><form action="" method="POST">
                                <button type="submit" class="open" name="Message" value="{{ course.proposing_student }}">
                                    Message
                                </button>
                            </form></td>
                        </tr>
                        {% set i.value = i.value + 1 %}
                        {% endif %}
                        {% endif %}
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
        <style>
            .logoutButton {
                background:none;
                color:rgb(224, 214, 214);
                border:none;
                margin:0;
                padding:0;
            }
        </style>
        <div class="col-4 float-right" style="padding:20px;margin:10px; background:linear-gradient(333.39deg, #FFFFFF -278.56%, #6D6D6D -78.47%, #0D0C15 91.61%);">
            <div style="background-color:white; padding:5px">
                {% include 'calendar.html' %}
            </div>
            <h2 style="padding-top:10px; padding-bottom:5px;background: radial-gradient(64.18% 64.18% at 71.16% 35.69%, #E9DEFA 0.89%, #BEF3F5 17.23%, #9DEDF0 42.04%, #7DE7EB 55.12%, #5CE1E6 71.54%, #33BBCF 100%) /* warning: gradient uses a rotation that is not supported by CSS and may not behave as expected */;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            ">Closing Deadlines</h2>
            <!-- for loop -->
                <div style="margin-top:10px;margin-left:20px;background-color:white">
                    Insert Deadline Here
                </div>
            
        </div>
    </div>
    {% endblock %}
</body>
</html>